<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MeteorJS, iron-router and Bootstrap 3 - open a modal with its own URL • Dr Daren Warburton</title>
    <meta name="description" content="Why open a modal with its own URL?

">
    <meta name="keywords" content="">
    
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="MeteorJS, iron-router and Bootstrap 3 - open a modal with its own URL">
	<meta name="twitter:description" content="Why open a modal with its own URL?

">
	<meta name="twitter:site" content="@drwarbie">
	<meta name="twitter:creator" content="@drwarbie">
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="http://localhost:4000/images/">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="Lisbon, Portugal">
	<meta property="og:type" content="article">
	<meta property="og:title" content="MeteorJS, iron-router and Bootstrap 3 - open a modal with its own URL">
	<meta property="og:description" content="Why open a modal with its own URL?

">
	<meta property="og:url" content="http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/">
	<meta property="og:site_name" content="Dr Daren Warburton">

    <link rel="canonical" href="http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/">

    <link href="http://localhost:4000/atom.xml" type="application/atom+xml" rel="alternate" title="Dr Daren Warburton Atom Feed">
    <link href="http://localhost:4000/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <style>
    .sliding-menu-content {
      top: 0;
      right: 0;
      text-align: center;
      visibility: hidden;
      height: 100%;
      width: 100%;
      -webkit-transform: translateX(100%);
      -moz-transform: translateX(100%);
      -ms-transform: translateX(100%);
      -o-transform: translateX(100%);
      transform: translateX(100%);
    }
    </style>

    <link rel="stylesheet" href="http://localhost:4000/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="http://localhost:4000/js/vendor/html5shiv.min.js"></script>
      <script src="http://localhost:4000/js/vendor/respond.min.js"></script>
    <![endif]-->

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-4730256-9', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <header id="masthead">
  <div class="inner-wrap">
    <a href="http://localhost:4000/" class="site-title">Dr Daren Warburton</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">Dr Daren Warburton</a></li>
	
    
        
    
    <li><a href="http://localhost:4000/blog/" >Blog</a></li>
  
    
        
    
    <li><a href="http://localhost:4000/code/" >Code</a></li>
  
    
        
    
    <li><a href="http://localhost:4000/models/" >Models</a></li>
  
    
        
    
    <li><a href="http://localhost:4000/health/" >Health</a></li>
  
    
        
    
    <li><a href="http://localhost:4000/about/" >About</a></li>
  
</ul>

    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

    <nav role="navigation" class="js-menu sliding-menu-content">
	<ul class="menu-item">
		<li>
      
        
      
			
			<a href="http://localhost:4000/blog/" class="title">Blog</a>
			<p class="excerpt">My general thoughts and discussions.</p>
		</li><li>
      
        
      
			
			<a href="http://localhost:4000/code/" class="title">Code</a>
			<p class="excerpt">A selection of useful code snippets and uses</p>
		</li><li>
      
        
      
			
			<a href="http://localhost:4000/models/" class="title">Models</a>
			<p class="excerpt">A selection of useful Excel </p>
		</li><li>
      
        
      
			
			<a href="http://localhost:4000/health/" class="title">Health</a>
			<p class="excerpt">I love to swim, bike and run!</p>
		</li><li>
      
        
      
			
			<a href="http://localhost:4000/about/" class="title">About</a>
			<p class="excerpt">Found out or contact Daren Warburton.</p>
		</li>
	</ul>
</nav>
<button type="button" class="js-menu-trigger sliding-menu-button menulines-button x2" role="button" aria-label="Toggle Navigation">
	<span class="menulines"></span>
</button>

<div class="js-menu-screen menu-screen"></div>


    <!--[if lt IE 9]><div class="upgrade notice-danger"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <div id="main" role="main">
	<article class="wrap" itemscope itemtype="http://schema.org/Article">
		
		
  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://localhost:4000" itemprop="url">
        <span itemprop="title">Home</span>
      </a> ›
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://localhost:4000/code/" itemprop="url">
        <span itemprop="title">Code</span>
      </a>
    </span>
  </nav><!-- /.breadcrumbs -->


		<div class="page-title">
			<h1>MeteorJS, iron-router and Bootstrap 3 - open a modal with its own URL</h1>
		</div>
		<div class="author-meta">
			<figure class="author-meta-gravatar"></span>
			<em>Written on</em>
			<em class="post-date">February 26, 2015 | </em>
			<a href="http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/#disqus_thread" class="disqus-comment-count" data-disqus-url="http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/"></a>
			<!--<em class="disqus-comment-count" data-disqus-url="http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/"></em>-->
		</div>
		<div class="inner-wrap">
			<nav class="toc"></nav><!-- /.toc -->
			<div id="content" class="page-content" itemprop="articleBody">
				<h2 id="why-open-a-modal-with-its-own-url">Why open a modal with its own URL?</h2>

<p>Just to set the scene, I am currently using <a href="https://www.meteor.com/">MeteorJS</a> with <a href="https://github.com/iron-meteor/iron-router">iron-router</a> and <a href="http://getbootstrap.com/">bootstrap 3</a>, and I am using <a href="http://getbootstrap.com/javascript/#modals">bootstrap modals</a> when creating new data and editing existing data.</p>

<p>My philosophy is that every page we open should have its open URL, modal or none modal.  That means if we refresh a page that has a modal, the modal will open automatically.</p>

<p>Conversely, modals that don’t have their own URL will not appear when we refresh a screen that had an open modal.</p>

<h2 id="the-bootstrap-approach">The Bootstrap approach</h2>

<p>Lets begin by reviewing the bootstrap approach to modals.  Imagine we are on a web page containing a list of contacts: the contacts <strong>index</strong> (or <strong>list</strong>) page.  We click one of the contacts and access that particular contact’s <strong>show</strong> page.</p>

<p>At this point we decide to edit the contacts data so we click an <strong>edit contact</strong> link and our modal is opened with a form containing the data that can be edited.</p>

<p>The bootstrap approach will see that the <strong>edit</strong> link has been pressed and, using some javascript built into bootstrap, the modal will be opened.  However, the the URL will remain unchanged.</p>

<h2 id="meteorjs-and-iron-router">MeteorJS and iron-router</h2>

<p>So how do we update URLs as modals open and close?  Well, this is where the awesomeness of <a href="https://github.com/iron-meteor/iron-router">iron-router</a> comes into play.</p>

<p>Iron-router allows us to do three (3) important things for each of our URLs:</p>

<ol>
  <li>Determine the layout of the page (i.e. select the Meteor templates to be rendered);</li>
  <li>Select and prepare data to be rendered in the layout (carry out data subscriptions and any data manipulation or preparation before any data is rendered to a page); and,</li>
  <li>Perform any other actions that are required before or after rendering a page and its data.</li>
</ol>

<h3 id="show-page-rendering">Show Page: Rendering</h3>

<p>Firstly, lets go back to the example of the contacts web pages we discussed initially.  Again lets assume we have arrived at the page showing the details of one particular contact (the contact <strong>show page</strong>).</p>

<p>Here we need to be able to view the various data of the contact.  Also, since we will be opening a modal from this page we must load the modal’s HTML into this <strong>show page</strong>. However, the modal will be in a closed state (not open).</p>

<h4 id="show-page-templates">1. Show Page: Templates</h4>

<p>So, in terms of iron-router, our <strong>routes.js</strong> file for the templates will look something like this:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/contacts/:_id&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;contacts.show&#39;</span><span class="p">,</span>

  <span class="nx">layoutTemplate</span><span class="o">:</span> <span class="s1">&#39;layout&#39;</span><span class="p">,</span>

  <span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;contactShow&#39;</span><span class="p">,</span>
  <span class="nx">yieldTemplates</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;editContactModal&#39;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">to</span><span class="o">:</span> <span class="s1">&#39;modal&#39;</span> <span class="p">},</span>
  <span class="p">},</span>

  <span class="p">...</span>

<span class="p">});</span></code></pre></div>

<p>In this, we have reference to out <strong>layout</strong> file, e.g.:</p>

<div class="highlight"><pre><code class="language-jade" data-lang="jade"><span class="nt">template</span>(<span class="na">name=</span><span class="s">&quot;layout&quot;</span>)

  <span class="err">....</span>

  <span class="nf">#content</span>
    <span class="err">+</span><span class="nt">yield</span>
    <span class="err">+</span><span class="nt">yield</span> region=&quot;modal&quot;

  <span class="err">...</span></code></pre></div>

<p><strong>contactShow</strong> template is rendered into the <strong>+yield</strong>, which is the layout of the <strong>show page</strong>. <strong>editContactModal</strong> template is rendered into <strong>+yield region=modal</strong>, which is the closed modal.</p>

<h4 id="show-page-subscriptions-and-data-preparation">2. Show Page: Subscriptions and Data Preparation</h4>

<p>Next we use the <strong>waitOn</strong> section of iron-router to subscribe to the contacts data and the <strong>data</strong> section to find the one record required to render into the <strong>show page</strong> template:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/contacts/:_id&#39;</span><span class="p">,</span> <span class="p">{</span>

  <span class="p">...</span>

  <span class="nx">waitOn</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Meteor</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;contacts&#39;</span><span class="p">)</span>
  <span class="p">},</span>

  <span class="nx">data</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">Session</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;contact_id&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">_id</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">contact</span> <span class="o">=</span> <span class="nx">Contacts</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">contact</span><span class="o">:</span> <span class="nx">contact</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">});</span></code></pre></div>

<p>Note: we also set a <strong>session</strong> for the contact being shown.  The <strong>_id</strong> will be used later when we need to edit this contact.</p>

<h4 id="show-page-actions">3. Show Page: Actions</h4>

<p>Finally, we have the option to carry out any actions (hooks) before, during or after rendering.  Assuming we simply want to render out data into the templates, we can call the following, which will render the data into the templates:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/contacts/:_id&#39;</span><span class="p">,</span> <span class="p">{</span>

  <span class="p">...</span>

  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
  <span class="p">},</span>

  <span class="nx">onStop</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">keys</span><span class="p">.</span><span class="nx">contactId</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">});</span></code></pre></div>

<p>Note: this is also set up to delete the contact’s <strong>_id</strong> stored in a session when we move away from the <strong>show page</strong> as it will no longer be required.</p>

<h3 id="modal-edit-page-rendering">Modal Edit Page: Rendering</h3>

<p>Now this is where the beauty of using iron-router and the opening and closing of modals really comes through. So, here are points 1-3 for the <strong>modal edit page</strong> (the <strong>modal edit URL</strong>).</p>

<h4 id="modal-edit-page-meteor-templates">1. Modal Edit Page: Meteor Templates</h4>

<p>So at this point we must remember that to open a modal, as it opens, a backdrop obscures the <strong>show page</strong> behind and the modal sits on top of the everything.</p>

<p>Now in the case of our contacts, as the <strong>edit modal</strong> is opened, we still want to see the <strong>show page</strong> behind the modal.  As such, the templates of the <strong>contacts.edit</strong> route must be an exact copy of the <strong>contacts.show</strong> route, as follows:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/contacts/:_id/edit&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;contacts.edit&#39;</span><span class="p">,</span>

  <span class="nx">layoutTemplate</span><span class="o">:</span> <span class="s1">&#39;layout&#39;</span><span class="p">,</span>

  <span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;contactShow&#39;</span><span class="p">,</span>
  <span class="nx">yieldTemplates</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;editContactModal&#39;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">to</span><span class="o">:</span> <span class="s1">&#39;modal&#39;</span> <span class="p">},</span>
  <span class="p">},</span>

  <span class="p">...</span>

<span class="p">});</span></code></pre></div>

<h4 id="modal-edit-page-subscriptions-and-data-preparation">2. Modal Edit Page: Subscriptions and Data Preparation</h4>

<p>Again, since we still need to render the <strong>show page</strong> behind the modal with exactly the same data, the <strong>waitOn</strong> and <strong>data</strong> sections of the <strong>edit page</strong> must be at least the same as the <strong>show page</strong>, as follows:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/contacts/:_id/edit&#39;</span><span class="p">,</span> <span class="p">{</span>

  <span class="p">...</span>

  <span class="nx">waitOn</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Meteor</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;contacts&#39;</span><span class="p">)</span>
  <span class="p">},</span>

  <span class="nx">data</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">Session</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;contact_id&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">_id</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">contact</span> <span class="o">=</span> <span class="nx">Contacts</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">contact</span><span class="o">:</span> <span class="nx">contact</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">});</span></code></pre></div>

<p>Hence, the same data is being shown on the obscured <strong>show page</strong> behind the modal, and this data is also used in the <strong>edit modal</strong>.</p>

<h4 id="modal-edit-page-actions">3. Modal Edit Page: Actions</h4>

<p>Now point 3 is the only part that must be different compared to the <strong>show page</strong>.  It is with the <strong>actions</strong> that we can open and close the modal. We use the <strong>action</strong> to open the modal and the <strong>onStop</strong> action to close the modal, as follows:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Router</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;/contacts/:_id/edit&#39;</span><span class="p">,</span> <span class="p">{</span>

  <span class="p">...</span>

  <span class="nx">action</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#editContactModal&#39;</span><span class="p">).</span><span class="nx">modal</span><span class="p">(</span><span class="s1">&#39;show&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
  <span class="p">},</span>

  <span class="nx">onStop</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;#editContactModal&#39;</span> <span class="p">).</span><span class="nx">modal</span><span class="p">(</span><span class="s1">&#39;hide&#39;</span><span class="p">);</span>
    <span class="k">delete</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">keys</span><span class="p">.</span><span class="nx">contactId</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="p">...</span>

<span class="p">});</span></code></pre></div>

<blockquote>
  <p>Note: I reference the modal through its own id, in this case the id is called <strong>editContactModal</strong></p>
</blockquote>

<p>Taking this approach, as we render the <strong>edit page</strong>, the modal is opened, and when we leave the <strong>edit page</strong>, such as when we submit the modal or cancel the modal, the <strong>onStop</strong> action of this route will close the modal.</p>

<h3 id="additional-functionality">Additional Functionality</h3>

<p>The above describes the basic routing of this approach. However, in addition to the iron-router ensuring the correct templates and data are rendered, we are missing the functions to direct us between pages (the on-page links or buttons).</p>

<p>In order to open the <strong>edit page</strong> from the <strong>show page</strong>, we can implement a simple <strong>href link</strong> or we can <strong>data-bind</strong> a button or link, an example being as follows:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Template</span><span class="p">.</span><span class="nx">contactShow</span><span class="p">.</span><span class="nx">events</span><span class="p">({</span>
  <span class="s1">&#39;click [data-bind=&quot;editContact&quot;]&#39;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">Router</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="s1">&#39;contacts.edit&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;contactId&#39;</span><span class="p">)</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div>

<blockquote>
  <p>Note: we utilise the contact’s <strong>_id</strong>, stored in the <strong>contactId session</strong> created in the route (iron-router), to access the <strong>edit page</strong>.</p>
</blockquote>

<p>The same goes for when we are in the <strong>edit page</strong>, when we close the modal we need to be returned to the <strong>show page</strong>, as follows:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Template</span><span class="p">.</span><span class="nx">contactModalEdit</span><span class="p">.</span><span class="nx">events</span><span class="p">({</span>
  <span class="s1">&#39;submit form#editContactForm&#39;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">Router</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="s1">&#39;contacts.show&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;contactId&#39;</span><span class="p">)</span> <span class="p">});</span>
  <span class="p">},</span>
  <span class="s1">&#39;click form#editContactForm .close-modal&#39;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">Router</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="s1">&#39;contacts.show&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;contactId&#39;</span><span class="p">)</span> <span class="p">});</span>
  <span class="p">},</span>
  <span class="s1">&#39;click #editContactModal .modal-backdrop&#39;</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">Router</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="s1">&#39;contacts.show&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="nx">Session</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;contactId&#39;</span><span class="p">)</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span></code></pre></div>

<p>This allows the modal to be closed by either submitting the edit form of the modal, pressing the modals cancel button or by clicking on the <strong>modal-backdrop</strong> (bootstraps css id of the backdrop that obscures the page behind a modal), and redirects to the <strong>show page</strong>.</p>

<h2 id="final-interesting-point">Final Interesting Point</h2>

<p>Now you may be thinking to yourself, when we open the <strong>modal edit page</strong> and we are also rendering the <strong>show page</strong> behind it at the same time, this must surely slow things down when moving to the <strong>edit URL</strong>.  Surprisingly enough no.  Meteor is clever enough to know that it has already rendered the <strong>show page</strong> and since data has not changed for the <strong>show page</strong>, it will not completely repeat the rendering when you move to the <strong>edit page</strong>.</p>

<p>Meteor is simply amazing and iron-router makes it all that much better!</p>

				<hr />
				<footer class="page-footer">
					


<div class="author-image">
	<img src="http://localhost:4000/images/bio-photo.jpg" alt="Dr Daren Warburton">
</div><!-- ./author-image -->
<div class="author-content">
	<h3 class="author-name" >Written by <span itemprop="author">Dr Daren Warburton</span></h3>
	<p class="author-bio"></p>
</div><!-- ./author-content -->
					<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=MeteorJS,%20iron-router%20and%20Bootstrap%203%20-%20open%20a%20modal%20with%20its%20own%20URL&amp;url=http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/&amp;via=drwarbie" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=http://localhost:4000/code/meteor-and-bootstrap---open-a-modal-with-its-own-url/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div><!-- /.share-this -->
					<div class="page-meta">
	<p>Updated <time datetime="2015-02-26T00:00:00Z" itemprop="datePublished">February 26, 2015</time></p>
</div><!-- /.page-meta -->
				</footer><!-- /.footer -->
				<aside>
					<hr />
<div id="disqus_thread"></div>
<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = 'docgecko'; // required: replace example with your forum shortname
		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'docgecko'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
		var s = document.createElement('script'); s.async = true;
		s.type = 'text/javascript';
		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

				</aside>
			</div><!-- /.content -->
		</div><!-- /.inner-wrap -->
		<div class="ads"><style>
.responsive-ads { width: 300px; height: 200px; }
@media(min-width: 520px) { .responsive-ads { width: 468px; height: 60px; } }
@media(min-width: 768px) { .responsive-ads { width: 160px; height: 600px; } }
</style>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Articles -->
<ins class="adsbygoogle responsive-ads"
     style="display:block"
     data-ad-client="ca-pub-4659826301993758"
     data-ad-slot="1276587625"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div><!-- /.ads -->
	</article><!-- ./wrap -->
</div><!-- /#main -->


    <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
        
      
			<li><a href="http://localhost:4000/" >Home</a></li>
		
      
        
      
			<li><a href="http://localhost:4000/about/" >About</a></li>
		
      
        
      
			<li><a href="http://localhost:4000/legal/" >Legal</a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2015 <a href="http://localhost:4000">Dr Daren Warburton</a> powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> + <a href="http://mmistakes.github.io/skinny-bones-jekyll/" rel="nofollow">Skinny Bones</a>.</p>
</footer>


    <script src="http://localhost:4000/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="http://localhost:4000/js/main.js"></script>

    
  </body>

</html>
